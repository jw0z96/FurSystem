#ifndef CURVESDATA_H
#define CURVESDATA_H

#include "Curves.h"

#include "nodeeditor/NodeDataModel.hpp"

using QtNodes::NodeData;
using QtNodes::NodeDataType;

enum CurveType
{
	CPU,
	SSBO
};

class CurvesData : public NodeData
{
	public:
		//----------------------------------------------------------------------------------------------------------------------
		/// @brief constructor
		//----------------------------------------------------------------------------------------------------------------------
		CurvesData() {}
		//----------------------------------------------------------------------------------------------------------------------
		/// @brief constructor with curve input
		//----------------------------------------------------------------------------------------------------------------------
		CurvesData(Curves const &_curves) : m_curves(_curves), m_curveType(CPU) {}
		//----------------------------------------------------------------------------------------------------------------------
		/// @brief constructor with curve input
		//----------------------------------------------------------------------------------------------------------------------
		CurvesData(unsigned int const &_ssbo) : m_curvesSSBO(_ssbo), m_curveType(SSBO) {}
		//----------------------------------------------------------------------------------------------------------------------
		/// @brief return the datatype
		//----------------------------------------------------------------------------------------------------------------------
		NodeDataType type() const override {return {"curves", "Curves"};};
		//----------------------------------------------------------------------------------------------------------------------
		/// @brief return the curves data
		//----------------------------------------------------------------------------------------------------------------------
		Curves curves() const {return m_curves;};
		//----------------------------------------------------------------------------------------------------------------------
		/// @brief return the curves ssbo data
		//----------------------------------------------------------------------------------------------------------------------
		unsigned int curvesSSBO() const {return m_curvesSSBO;};
		//----------------------------------------------------------------------------------------------------------------------
		/// @brief return the curve type
		//----------------------------------------------------------------------------------------------------------------------
		CurveType curveType() const {return m_curveType;};

	private:
		//----------------------------------------------------------------------------------------------------------------------
		/// @brief m_curves The curves object
		//----------------------------------------------------------------------------------------------------------------------
		Curves m_curves;
		//----------------------------------------------------------------------------------------------------------------------
		/// @brief m_curvesSSBO The curves shader storage buffer object
		//----------------------------------------------------------------------------------------------------------------------
		unsigned int m_curvesSSBO;
		//----------------------------------------------------------------------------------------------------------------------
		/// @brief m_curvesSSBO The curves shader storage buffer object
		//----------------------------------------------------------------------------------------------------------------------
		CurveType m_curveType;
};

#endif // CURVESDATA_H
